#!/usr/bin/env python3

import os
import math
import numpy as np
from matplotlib import pyplot as plt

n_patients = [100, 250, 500, 1000, 2500, 5000, 7500, 10000, 25000, 75000, 93739]

auc = [(0.7821350762527233, 0.6925619834710744, 0.8643790849673203),
(0.6448801742919389, 0.5369791666666667, 0.7510526315789473),
(0.7080610021786493, 0.6041343669250646, 0.8038401660612351),
(0.741285403050109, 0.647588765235824, 0.8314785373608903),
(0.792483660130719, 0.7048509643483343, 0.8720996038483305),
(0.8202614379084967, 0.7385057471264368, 0.8931129476584021),
(0.8246187363834423, 0.7366071428571429, 0.9041394335511983),
(0.8061002178649237, 0.7223140495867768, 0.8838541666666666),
(0.8556644880174292, 0.7724137931034483, 0.9289473684210526),
(0.8480392156862745, 0.7689473684210526, 0.9180072651790346),
(0.8567538126361656, 0.7821350762527233, 0.9215070643642073),
]
auc = np.array(auc)
print(auc.shape)
auc[:, 1] -= auc[:, 0]
auc[:, 1] *= -1
auc[:, 2] -= auc[:, 0]


fig = plt.figure(figsize=(3, 3))
plt.errorbar(n_patients, auc[:, 0], auc[:, 1:].transpose())
plt.title("ER AUC")
plt.xlabel("# Training Patients")
plt.ylabel("AUC")
plt.xscale("log")
plt.tight_layout()
plt.savefig(os.path.join("fig", "er_auc.pdf"))
plt.close(fig)


